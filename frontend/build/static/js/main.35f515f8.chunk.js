(this["webpackJsonpstarrevenge-react"]=this["webpackJsonpstarrevenge-react"]||[]).push([[0],{11:function(e,t,c){var a=c(30),s=c(69),n={};n.img=a.createTag("img",(function(e,t,c){return'<img src="'+t+'" />'})),n.i=a.createSimpleTag("i"),n.b=a.createSimpleTag("b"),n.code=a.createSimpleTag("code"),n.ul=a.createSimpleTag("ul"),n.li=a.createSimpleTag("li"),n.text=a.createTag("text",(function(e,t,c){var a="";return c.color&&(a+="color: ".concat(c.color,";")),c.size&&(a+="font-size: ".concat(c.size,"px;")),'<span style="'.concat(a,'">').concat(t,"</span>")})),n.url=a.createTag("url",(function(e,t,c){var a=t;return void 0!==c.site&&(a=s.escapeHTML(c.site)),s.startsWith(a,"http://")||s.startsWith(a,"https://")||(a="http://"+a),'<a href="'+a+'" target="_blank">'+t+"</a>"})),n.center=a.createTag("center",(function(e,t,c){return'<div class="text-center">'.concat(t,"</div>")})),e.exports={bbcode:function(e){return new s(n).parseString(e)}}},41:function(e,t,c){},42:function(e,t,c){},62:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},85:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(32),r=c.n(n),i=(c(41),c(42),c(3)),o=c(2),l=c.n(o),m=c(5),d=c.n(m),j=(c(62),c.p+"static/media/logo.7ff3427f.png"),u=c(0);function b(){var e=s.a.useState(),t=Object(i.a)(e,2),c=t[0],a=t[1];s.a.useEffect((function(){var e=d.a.get("user");e&&l.a.get("/api/profile/".concat(e)).then((function(e){var t=e.data;a(t)}))}),[a]);return Object(u.jsx)("div",{className:"navbar",children:Object(u.jsxs)("div",{className:"navbar-body container",children:[Object(u.jsxs)("div",{className:"navbar-right row",children:[Object(u.jsx)("a",{href:"/",className:"navbar-logo col-5",children:Object(u.jsx)("img",{src:j,alt:"Logo",className:"rotated"})}),Object(u.jsxs)("div",{className:"navbar-text col-5",children:[Object(u.jsx)("a",{href:"/forum",className:"navbar-text-forum",children:Object(u.jsx)("div",{children:"\u0424\u041e\u0420\u0423\u041c"})}),Object(u.jsx)("a",{href:"/users",className:"navbar-text-users",children:Object(u.jsx)("div",{children:"\u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u0418"})})]})]}),Object(u.jsx)("div",{className:"navbar-left",children:c?Object(u.jsxs)("div",{className:"navbar-success-login d-flex",children:[Object(u.jsx)("div",{className:"navbar-avatar",onClick:function(){return window.location="/profile/".concat(c.userID)},children:Object(u.jsx)("img",{src:c.avatarLast,alt:c.username})}),Object(u.jsx)("div",{className:"unlogin mt-2",onClick:function(){d.a.remove("user"),window.location.reload()},children:Object(u.jsx)("button",{className:"btn btn-danger",children:"\u0412\u044b\u0439\u0442\u0438"})})]}):Object(u.jsx)("div",{className:"navbar-login",children:Object(u.jsx)("a",{href:"/auth",children:Object(u.jsx)("button",{className:"btn btn-success",children:"\u0412\u043e\u0439\u0442\u0438"})})})})]})})}var f=c(36),x=c(13),h=c.n(x),O=c(17),g=(c(65),c(66),c(67),c.p+"static/media/clock.baca0620.svg");c(68);function v(){return Object(u.jsxs)("footer",{className:"footer",children:["StarRevenge | ",(new Date).getFullYear()]})}var p=c(11);function N(e){var t=s.a.useState(""),c=Object(i.a)(t,2),a=c[0],n=c[1],r=s.a.useState({badges:["none"],dateRegister:"",countMessages:0,isBan:!1,isAdmin:!1,userID:"",username:"",avatar:"",avatarLast:"",dateNormal:"",messages:[]}),o=Object(i.a)(r,2),m=o[0],j=o[1];s.a.useEffect((function(){l.a.get("/api/profile/".concat(e.header.match.params.id)).then((function(e){!0===e.data.response&&j(e.data)}))}));var b=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("/message/delete/".concat(t));case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"profile",children:[Object(u.jsxs)("main",{className:"container min-100-vh",children:[Object(u.jsxs)("div",{className:"profile-center",children:[Object(u.jsx)("div",{className:"profile-background",children:Object(u.jsxs)("div",{className:"profile-avatar d-flex",children:[Object(u.jsx)("img",{src:m.avatarLast,alt:"Avatar",className:"mt-3"}),Object(u.jsx)("div",{className:"profile-nickname mt-2",children:m.username})]})}),Object(u.jsx)("div",{className:"profile-bottom-div",children:Object(u.jsxs)("div",{className:"icons d-flex",children:[Object(u.jsxs)("div",{className:"icon-message mt-1",children:[Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAAEpUlEQVR4nO3c20+adxzH8TdnEI8ogiIgIlQqWu1Mz9uStbqmTbuLXe56f9Wud7lkTZO1ruvSpHWxWapTVCoUT1NrnYdqa4t04i4qTjN7kB+Kuu/risPz/H7f55MHnu/zIwGEEEIIIYQQQoj/F03mwc/fXV7PZyGHTce3tzUA+q0vtn/9TX6qOWTu/PD95mNtHus4EiRARRKgIglQkQSoSAJUJAEqkgAVSYCKNgPU6fU8n/8rn7UcCguzM2i1us3nm7dya3+v0d99n2JbOYFwC9aikrwUeFC9eL5IPNLLq5Vl0um1zde3fITXOX/5K0ptdn6/d4f+7vu8XnmZh1IPluSrFaI9D+l5cBdbpZNzHde2vb9tMUGn01F77Dgun5+x2BDdv/yE0+3F39iC0WTa18Lz7U1qlbHYEFOjCVw+P+e/vI7eYPzPdvod9sVgNBEIt+L2BxmNDtDVeQNPoAFfsBGtTrfTLkfG2toafz4ZZiw+hKPazdn2q5jMlnduv2OAGWaLldDJ03gCIRKDfTzovEFdqBmXtw6N9mhdwNfTaabGRxgZimAtLqbts0sUFpd+cL/3BphhLSqm+cynLC3MEY/0MhGL4g+fwOFys2VN9tBamJ1huP8Rer2B5tMXKK2wf/S+HxVgRomtgrbP2zcnHB+OUt90ApvdueuiD4LMCZFaXcXf2IzD5dn1GLsKMMNW6eTMxavMTk8w9Kgbi7WIYNNJikrLshlu3628WCYx2MfSwjy+UBhXrR+NJrtPUlYBAmg04HB5sFfVMJmI8ej+XWx2B4GmVizWwmyH3VPJ168YjUaYfTqJtz5E+NS5bU1xNrIOMEOr1eIJNFDlrWMsNkj33Vs4azz4G5sxmt599dpPb1IpxmKD/7YkHdfRGww5GVs5wAyD0bjR+hxjNBqhq/MmNXUBfA1N6PU5m2ZX0uk00+MjjAz1Y69ycbb9CiZzQU7nyPmRmS0FG61PA4nBfrpu/4g3cBxPoAHtPrU+6+swOz1BPNKLxVrIyQtfUFjy4ZYkG3t2aliLSjZan3niA71Mjsbwh05Q5a1lL1ufhdkZYv09aHU6GtvOUlZRuWdzwR4GmFFiK6fts0ubBzaRGCYQbsVW6cjpPEuLc8Qjf5BKJrNuSbKxb19Otkonpy9eedv69HRjsRYSCLdSXGZTGnfl5TKJgT6WFufxNai1JNnY12/3ra3P9PgIvV33KKuwUx9uoaCwaFdjpVZXGX0cYWZyPGctSTbycnnUarXU+Opx1ngZGx7k4a+3qPbWUXus8b037vB2lWQ8/pip0Tiu2nrOd1zbcZVkv+Snv8hMbjBQH27BXR9kJDrAb503KXdWY69yUVxm22g51kklkywvLTI3M8Xc02kcNR7OXMp9S5LVMeS7AACTuYBQ6yn8oWaeTU3wbHKcJ4N9pJJJAIxmM0UlpZQ7qgk2fXKg1iYPRIAZRrMZtz+I2x/Mdykf7Wgt6uWBBKhIAlQkASqSABVJgIokQEUSoCIJUJEEqEgCVCQBKpIAFUmAiiRARRKgIglQkQSoSAJUJAEqkgAVSYCKJEBF234X3vpvFEIIIYQQQgghhBA7+Qc2I0XnujYXxgAAAABJRU5ErkJggg==",alt:"Messages"}),Object(u.jsx)("div",{className:"counter-message",children:m.messages.length})]}),Object(u.jsxs)("div",{className:"icon-clock mt-2",children:[Object(u.jsx)("img",{src:g,alt:"Messages"}),Object(u.jsx)("div",{className:"counter-clock",children:m.dateNormal})]})]})})]}),Object(u.jsxs)("div",{className:"profile-header-chat d-flex justify-content-between",children:[Object(u.jsx)("div",{className:"left-column",children:m.isAdmin?Object(u.jsxs)("div",{className:"role coder",children:[Object(u.jsx)("i",{className:"bi bi-gear"})," \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"]}):Object(u.jsx)("div",{className:"role none",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"})}),Object(u.jsxs)("div",{className:"chat",children:[d.a.get("user")===m.userID?Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),l.a.post("/message/user/add/".concat(e.header.match.params.id),{message:Object(p.bbcode)(a),date:(new Date).toLocaleString()}).then((function(e){window.location.reload()}))},children:[Object(u.jsx)("textarea",{className:"chat-write-area",placeholder:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?",maxLength:300,cols:"30",rows:"10",onChange:function(e){return n(e.target.value)}}),Object(u.jsx)("div",{className:"chat-bottom-area",children:Object(u.jsx)("div",{className:"chat-button-post",children:Object(u.jsx)("input",{type:"submit",className:"btn btn-success",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})})]}):null,Object(u.jsx)("div",{className:"messages",children:m.messages&&Object(f.a)(m.messages).reverse().map((function(e){return Object(u.jsxs)("div",{className:"message",children:[Object(u.jsxs)("div",{className:"message-user-info d-flex justify-content-between",children:[Object(u.jsxs)("div",{className:"message-header d-flex",children:[Object(u.jsx)("div",{className:"message-avatar",children:Object(u.jsx)("img",{src:m.avatarLast,alt:"Avatar"})}),Object(u.jsx)("div",{className:"message-nickname",children:Object(u.jsx)("div",{className:"message-user-username",children:m.username})})]}),d.a.get("user")===m.userID?Object(u.jsx)("div",{className:"message-trash",style:{marginLeft:"2rem",cursor:"pointer"},onClick:function(t){return b(e.messageID)},children:Object(u.jsx)("i",{className:"bi bi-trash"})}):null]}),Object(u.jsx)("div",{className:"post",dangerouslySetInnerHTML:{__html:e.content}}),Object(u.jsx)("div",{className:"date text-muted mt-4",children:e.dateNormal})]},e.messageID)}))})]})]})]}),Object(u.jsx)(v,{})]})}function k(e){return Object(u.jsxs)("div",{className:"profile",children:[Object(u.jsx)(b,{}),Object(u.jsx)(N,{header:e})]})}c(73),c(74);function w(e){var t=e.name,c=e.color,a=function(e,t){switch(t){case"theme":window.location="/forum/".concat(e);break;case"link":window.location.href=e;break;default:return}},n=s.a.useState({mainCategory:{categoryID:0,categoryName:"",description:"",isComment:!1,count:0},categories:[{procreator:{category:0},categoryID:6,categoryName:"",description:"",isComment:!1}],links:[{name:"",link:""}],topics:[{isClosed:!1,topicID:0,date:"",name:"",content:"",procreator:0,ownerID:""}]}),r=Object(i.a)(n,2),o=r[0],m=r[1],j=s.a.useState({isAdmin:!1}),b=Object(i.a)(j,2),f=b[0],x=b[1];return s.a.useEffect((function(){l.a.get("/api/profile/".concat(d.a.get("user"))).then((function(e){e.data.response&&x(e.data)}))}),[x]),s.a.useEffect((function(){l.a.get("/api/forum/categories/".concat(t)).then((function(e){m(e.data)}))})),Object(u.jsxs)("div",{className:"forum-window",children:[f.isAdmin?Object(u.jsxs)("div",{className:"forum-window-header d-flex justify-content-between",style:{background:c},children:[Object(u.jsx)("div",{children:t}),Object(u.jsx)("div",{className:"btn btn-success",onClick:function(){return window.location="/forum/categories/add/".concat(t)},children:"+"})]}):Object(u.jsx)("div",{className:"forum-window-header",style:{background:c},children:Object(u.jsx)("div",{children:t})}),o.categories&&o.categories.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"forum-line",style:{cursor:"pointer"},onClick:function(t){return a(e.categoryID,"theme")},children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"forum-logo-module-forum col-1",children:Object(u.jsx)("i",{className:"bi bi-bookmark-star"})}),Object(u.jsx)("div",{className:"forum-name col-xl-8 d-flex col-lg-7 col-md-6 col-8",children:e.description}),Object(u.jsx)("div",{className:"forum-last-user col-4 col-xl-3 text-center",children:Object(u.jsxs)("div",{style:{color:"#fff",fontSize:"13px"},children:[e.count,Object(u.jsx)("div",{children:"\u0422\u0435\u043c\u044b"})]})})]})})},t)})),o.links&&o.links.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"forum-line",style:{cursor:"pointer"},onClick:function(t){return a(e.link,"link")},children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"forum-logo-module-forum col-1",children:Object(u.jsx)("i",{className:"bi bi-link-45deg"})}),Object(u.jsx)("div",{className:"forum-name col-xl-8 d-flex col-lg-7 col-md-6 col-8",children:e.name})]})})},t)}))]})}c(75);function y(){return Object(u.jsxs)("div",{className:"list",children:[Object(u.jsx)("div",{className:"list-stats"}),Object(u.jsx)("div",{className:"list-join-discord"})]})}function C(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"forum container d-flex",children:[Object(u.jsxs)("div",{className:"forum-module",children:[Object(u.jsx)(w,{name:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b",color:"rgb(88, 92, 102)"}),Object(u.jsx)(w,{name:"\u0418\u0433\u0440\u043e\u0432\u043e\u0439 \u0441\u0435\u0440\u0432\u0435\u0440",color:"rgb(88, 92, 102)"}),Object(u.jsx)(w,{name:"RolePlay",color:"rgb(88, 92, 102)"}),Object(u.jsx)(w,{name:"\u041f\u0440\u043e\u0447\u0435\u0435",color:"rgb(88, 92, 102)"})]}),Object(u.jsx)(y,{})]}),Object(u.jsx)(v,{})]})}function A(){return Object(u.jsx)("div",{className:"404 text-center text-white",style:{fontSize:"30px"},children:"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0438\u043b\u0438 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"})}c(76);function S(e){var t=e.match.params.name,c=s.a.useState(""),a=Object(i.a)(c,2),n=a[0],r=a[1],o=s.a.useState(""),m=Object(i.a)(o,2),d=m[0],j=m[1],f=s.a.useState(!1),x=Object(i.a)(f,2),h=x[0],O=x[1],g=s.a.useState("none"),v=Object(i.a)(g,2),p=v[0],N=v[1],k=function(e){"link"===p?(e.preventDefault(),l.a.post("/forum/link/create",{name:n,link:d,parent:t}).then((function(e){200===e.status&&(window.location="/")}))):(e.preventDefault(),l.a.post("/forum/add",{name:n,description:d,checkbox:h,parent:t}).then((function(e){200===e.status&&(window.location="/forum/".concat(e.data.id))})))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)("div",{className:"forum-header-text text-center mt-5",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0422\u0435\u043c\u044b"}),Object(u.jsxs)("select",{className:"form-select d-flex m-auto mt-5",onChange:function(e){return N(e.target.value)},children:[Object(u.jsx)("option",{value:"none",selected:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0442\u0435\u043c\u044b"}),Object(u.jsx)("option",{value:"theme",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),Object(u.jsx)("option",{value:"link",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0421\u0441\u044b\u043b\u043a\u0443"})]}),function(){switch(p){case"theme":return Object(u.jsx)("div",{className:"forum-create-categories d-flex mt-5",children:Object(u.jsxs)("form",{className:"form-signin text-center m-auto",onSubmit:k,children:[Object(u.jsxs)("div",{className:"mb-3",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(u.jsx)("input",{className:"form-control",onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(u.jsx)("textarea",{className:"form-control",row:"5",maxLength:300,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault",onChange:function(e){return O(e.target.checked)}}),Object(u.jsx)("label",{className:"form-check-label",for:"flexCheckDefault",children:"\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn-success mt-5",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})});case"link":return Object(u.jsx)("div",{className:"forum-create-categories d-flex mt-5",children:Object(u.jsxs)("form",{className:"forum-create form-signin m-auto text-center",onSubmit:k,children:[Object(u.jsxs)("div",{className:"mb-3",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(u.jsx)("input",{className:"form-control",onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:["\u0421\u0441\u044b\u043b\u043a\u0430",Object(u.jsx)("input",{className:"form-control",row:"5",maxLength:300,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn-success mt-5",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})});default:return}}()]})}c(77);function I(e){var t=e.match.params.id,c=function(e,t){switch(t){case"theme":window.location="/forum/".concat(e);break;case"link":window.location.href=e;break;case"topic":window.location="/forum/topic/".concat(e);break;default:return}},a=s.a.useState({mainCategory:{categoryID:0,categoryName:"",description:"",isComment:!1},categories:[{procreator:{category:0},categoryID:6,categoryName:"",description:"",isComment:!1}],links:[{name:"",link:""}],topics:[{isClosed:!1,topicID:0,date:"",name:"",content:"",procreator:0,ownerID:"",count:0}]}),n=Object(i.a)(a,2),r=n[0],o=n[1];s.a.useEffect((function(){l.a.get("/api/forum/".concat(t)).then((function(e){o(e.data)}))}));var m=function(e){e.preventDefault(),window.location="/forum/".concat(t,"/create")};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)("div",{className:"categories container",children:Object(u.jsxs)("div",{className:"categories-page",children:[r.mainCategory.description?Object(u.jsxs)("div",{className:"catigories-header",children:[Object(u.jsxs)("div",{className:"catigories-header-main d-flex",children:[Object(u.jsx)("div",{className:"categories-name",children:r.mainCategory.categoryName}),d.a.get("user")?Object(u.jsx)("div",{className:"categories-add",children:Object(u.jsx)("button",{className:"btn btn-success",onClick:m,children:"+ \u0412\u043e\u043f\u0440\u043e\u0441"})}):null]}),Object(u.jsx)("div",{className:"catogories-main-text",children:r.mainCategory.description})]}):Object(u.jsxs)("div",{className:"catigories-header d-flex",children:[Object(u.jsx)("div",{className:"categories-name",children:r.mainCategory.categoryName}),d.a.get("user")?Object(u.jsx)("div",{className:"categories-add",children:Object(u.jsx)("button",{className:"btn btn-success",onClick:m,children:"+ \u0412\u043e\u043f\u0440\u043e\u0441"})}):null]}),Object(u.jsxs)("div",{className:"catigories-full",children:[r.categories&&r.categories.map((function(e,t){return Object(u.jsx)("div",{className:"category",onClick:function(t){return c(e.categoryID,"theme")},children:Object(u.jsx)("div",{style:{cursor:"pointer"},children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"forum-logo-module-forum col-1",style:{marginBottom:".5rem",marginLeft:".5rem"},children:Object(u.jsx)("i",{className:"bi bi-bookmark-star"})}),Object(u.jsx)("div",{className:"forum-name col-xl-8 d-flex col-lg-7 col-md-6 col-10",children:e.categoryName}),Object(u.jsxs)("div",{className:"forum-logo col-2 text-center",style:{color:"#fff"},children:[e.count,Object(u.jsx)("div",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"})]})]})})},t)})),r.links&&r.links.map((function(e,t){return Object(u.jsx)("div",{className:"category",onClick:function(t){return c(e.link,"link")},children:Object(u.jsx)("div",{style:{cursor:"pointer"},children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"forum-logo-module-forum col-1",style:{marginLeft:".5rem",marginBottom:".4rem",fontSize:"27px"},children:Object(u.jsx)("i",{className:"bi bi-link-45deg"})}),Object(u.jsx)("div",{className:"forum-name col-xl-8 d-flex col-lg-7 col-md-6 col-10",children:e.name})]})})},t)})),r.topics&&r.topics.map((function(e,t){return Object(u.jsx)("div",{className:"category",onClick:function(t){return c(e.topicID,"topic")},children:Object(u.jsx)("div",{style:{cursor:"pointer"},children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"forum-logo-module-forum col-1",style:{marginBottom:".5rem",marginLeft:".5rem"},children:Object(u.jsx)("i",{className:"bi bi-chat-right-text"})}),Object(u.jsxs)("div",{className:"forum-name col-xl-8 d-flex col-lg-7 col-md-6 col-10",children:[e.isClosed?Object(u.jsx)("div",{className:"status status-closed",children:"\u0417\u0430\u043a\u0440\u044b\u0442"}):null,e.name]}),Object(u.jsxs)("div",{className:"forum-logo col-2 text-center",style:{color:"#fff"},children:[e.count,Object(u.jsx)("div",{children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"})]})]})})},t)}))]})]})}),Object(u.jsx)(v,{})]})}c(78);function D(e){var t=e.match.params.id,c=s.a.useState(""),a=Object(i.a)(c,2),n=a[0],r=a[1],o=s.a.useState({isAdmin:!1}),m=Object(i.a)(o,2),j=m[0],f=m[1],x=s.a.useState(""),h=Object(i.a)(x,2),O=h[0],g=h[1],v=s.a.useState("none"),N=Object(i.a)(v,2),k=N[0],w=N[1],y=s.a.useState(!1),C=Object(i.a)(y,2),A=C[0],S=C[1],I=function(e){switch(e.preventDefault(),k){case"theme":l.a.post("/forum/add",{name:n,description:Object(p.bbcode)(O),checkbox:A,parent:Number(t)}).then((function(e){200===e.status&&(window.location="/forum/".concat(t,"/topic/").concat(e.data.id))}));break;case"link":l.a.post("/forum/link/create",{name:n,link:O,parent:Number(t)}).then((function(e){200===e.status&&(window.location="/forum/".concat(t))}));break;case"topic":l.a.post("/forum/topic/create",{name:n,isComment:A||!1,content:Object(p.bbcode)(O),ownerID:d.a.get("user"),procreator:t}).then((function(e){if(200===e.status)return window.location="/forum/".concat(t,"/topic/").concat(e.data.id)}));break;default:return}};s.a.useEffect((function(){l.a.get("/api/profile/".concat(d.a.get("user"))).then((function(e){return 200===e.status?f(e.data):window.location="/"}))}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)("div",{className:"theme-create-header-text text-center mt-5",style:{fontSize:"40px",color:"#fff"},children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0422\u0435\u043c\u044b"}),Object(u.jsxs)("select",{className:"form-select d-flex m-auto mt-5",onChange:function(e){return w(e.target.value)},children:[Object(u.jsx)("option",{value:"none",defaultValue:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0442\u0435\u043c\u044b"}),j&&j.isAdmin?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("option",{value:"theme",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),Object(u.jsx)("option",{value:"link",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0421\u0441\u044b\u043b\u043a\u0443"})]}):null,Object(u.jsx)("option",{value:"topic",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0422\u043e\u043f\u0438\u043a"})]}),function(){switch(k){case"theme":return Object(u.jsx)("div",{className:"forum-create-categories d-flex mt-5",children:Object(u.jsxs)("form",{className:"forum-create form-signin m-auto text-center",onSubmit:I,children:[Object(u.jsxs)("div",{className:"mb-3",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(u.jsx)("input",{className:"form-control",onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(u.jsx)("textarea",{className:"form-control",row:"5",maxLength:300,onChange:function(e){return g(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault",onChange:function(e){return S(e.target.checked)}}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:"\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn-success mt-5",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})});case"link":return Object(u.jsx)("div",{className:"forum-create-categories d-flex mt-5",children:Object(u.jsxs)("form",{className:"forum-create form-signin m-auto text-center",onSubmit:I,children:[Object(u.jsxs)("div",{className:"mb-3",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(u.jsx)("input",{className:"form-control",onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:["\u0421\u0441\u044b\u043b\u043a\u0430",Object(u.jsx)("input",{className:"form-control",row:"5",maxLength:300,onChange:function(e){return g(e.target.value)}})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn-success mt-5",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})});case"topic":return Object(u.jsx)("div",{className:"forum-create-categories d-flex mt-5",children:Object(u.jsxs)("form",{className:"forum-create form-signin m-auto text-center",onSubmit:I,children:[Object(u.jsxs)("div",{className:"mb-3",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(u.jsx)("input",{className:"form-control",onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(u.jsx)("textarea",{className:"form-control",row:"5",maxLength:300,onChange:function(e){return g(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault",onChange:function(e){return S(e.target.checked)}}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:"\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn-success mt-5",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})});default:return}}()]})}c(79);function L(e){var t=e.match.params.id,c=s.a.useState(""),a=Object(i.a)(c,2),n=a[0],r=a[1],o=s.a.useState(!1),m=Object(i.a)(o,2),j=m[0],f=m[1],x=s.a.useState({topic:{isClosed:!1,isComment:!1,topicID:0,date:"23.09.2021",name:"",content:"",procreator:0,ownerID:"",owner:{avatarLast:"",dateRegister:"2021-09-23T08:58:06.661Z",dateNormal:"23.09.2021",isBan:!1,isAdmin:!1,userID:"",username:"",avatar:"3949e65e6f74ca82f3aef5749f8a9c7b"}},comment:[]}),g=Object(i.a)(x,2),N=g[0],k=g[1];s.a.useEffect((function(){l.a.get("/api/topic/".concat(t)).then((function(e){k(e.data)}))})),s.a.useEffect((function(){l.a.get("/api/profile/".concat(d.a.get("user"))).then((function(e){f(e.data.isAdmin)}))}));var w=function(){var e=Object(O.a)(h.a.mark((function e(c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/topic/message/add",{userID:d.a.get("user"),content:Object(p.bbcode)(n),topicID:t}).then((function(e){200===e.status&&window.location.reload()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return window.location="/profile/".concat(e)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"topic container",children:[Object(u.jsxs)("div",{className:"topic-header-row row ",children:[Object(u.jsxs)("div",{className:"topic-header col-xxl-2 col-xl-2 col-lg-3 col-md-3 col-sm-4",children:[Object(u.jsx)("img",{src:N.topic.owner.avatarLast,alt:"Logo",className:"m-auto",style:{cursor:"pointer"},onClick:function(){return y(N.topic.ownerID)}}),Object(u.jsx)("div",{className:"topic-header-owner-nickname",children:N.topic.owner.username}),N.topic.owner.isAdmin?Object(u.jsx)("div",{className:"topic-header-owner-role topic-moderator",children:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440"}):Object(u.jsx)("div",{className:"topic-header-owner-role",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),Object(u.jsx)("div",{className:"message-date mt-3",children:N.topic.date}),d.a.get("user")&&j&&!N.topic.isClosed?Object(u.jsx)("div",{className:"topic-close-topic",children:Object(u.jsx)("button",{className:"btn btn-danger mt-3",onClick:function(){l.a.get("/api/topic/close/".concat(t)).then((function(e){200===e.status&&window.location.reload()}))},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0422\u043e\u043f\u0438\u043a"})}):null,N.topic.isClosed?Object(u.jsx)("div",{className:"topic-close",children:Object(u.jsx)("span",{children:"\u0417\u0430\u043a\u0440\u044b\u0442\u043e"})}):null,d.a.get("user")&&j?Object(u.jsx)("div",{className:"topic-system",children:Object(u.jsx)("div",{className:"topic-system-delete",onClick:function(){l.a.delete("/topic/delete/".concat(t)).then((function(e){200===e.status&&(window.location.href="/forum")}))},children:Object(u.jsxs)("button",{type:"button",className:"btn btn-outline-danger",children:[Object(u.jsx)("i",{className:"bi bi-trash"})," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u043f\u0438\u043a"]})})}):null]}),Object(u.jsxs)("div",{className:"topic-main-message col-xxl-9 col-xl-9 col-lg-7 col-md-9 col-sm-7",style:{fontSize:"35px"},children:[N.topic.name,Object(u.jsx)("div",{style:{fontSize:"20px"},dangerouslySetInnerHTML:{__html:N.topic.content}})]})]}),Object(u.jsx)("div",{className:"topic-messages",children:N.comment&&N.comment.map((function(e,t){var c;return Object(u.jsxs)("div",{className:"topic-message",children:[Object(u.jsx)("a",{style:{cursor:"pointer"},onClick:function(){return y(e.userID)},children:Object(u.jsxs)("div",{className:"message-header d-flex",children:[Object(u.jsx)("div",{className:"message-avatar",children:Object(u.jsx)("img",{src:null!==(c=e.user.avatarLast)&&void 0!==c?c:"https://imgur.com/9lh1TO9.jpeg",alt:"Avatar"})}),e.user.isAdmin?Object(u.jsx)("div",{className:"message-nickname topic-moderator",children:e.user.username?e.user.username:"Deleted User"}):Object(u.jsx)("div",{className:"message-nickname",style:{textTransform:"none"},children:e.user.username})]})}),Object(u.jsx)("div",{className:"post",dangerouslySetInnerHTML:{__html:e.content}}),Object(u.jsx)("div",{className:"date text-muted mt-4",children:e.dateNormal})]},t)}))}),N.topic.isClosed||N.topic.isComment||!d.a.get("user")?null:Object(u.jsx)("div",{className:"topic-chat",children:Object(u.jsxs)("form",{onSubmit:w,children:[Object(u.jsx)("textarea",{className:"topic-chat-write-area",placeholder:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?",maxLength:300,cols:"30",rows:"10",onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("div",{className:"topic-chat-bottom-area",children:Object(u.jsx)("div",{className:"topic-chat-button-post",children:Object(u.jsx)("input",{type:"submit",className:"btn btn-success",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})})]})})]}),Object(u.jsx)(v,{})]})}var T=c(33),B=c(4);var U=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(T.a,{children:Object(u.jsxs)(B.c,{children:[Object(u.jsx)(B.a,{path:"/profile/:id",component:k}),Object(u.jsx)(B.a,{path:"/forum/categories/add/:name",component:S}),Object(u.jsx)(B.a,{path:"/forum/topic/:id",component:L}),Object(u.jsx)(B.a,{path:"/forum/:id/create",component:D}),Object(u.jsx)(B.a,{path:"/forum/:id",component:I}),Object(u.jsx)(B.a,{path:"/forum",component:C}),Object(u.jsx)(B.a,{path:"/users",component:A}),Object(u.jsx)(B.a,{path:"/",component:C}),Object(u.jsx)(B.a,{component:A})]})})})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,86)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root")),F()}},[[85,1,2]]]);
//# sourceMappingURL=main.35f515f8.chunk.js.map